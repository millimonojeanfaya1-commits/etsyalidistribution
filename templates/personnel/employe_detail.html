{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0">
      <i class="fas fa-id-card me-2"></i>
      Détails de l'Employé
    </h5>
    <div class="btn-group">
      <a href="{% url 'personnel:employe_update' employe.pk %}" class="btn btn-sm btn-primary">
        <i class="fas fa-edit me-1"></i> Modifier
      </a>
      {% if employe.actif %}
      <a href="{% url 'personnel:employe_delete' employe.pk %}" class="btn btn-sm btn-warning">
        <i class="fas fa-user-slash me-1"></i> Désactiver
      </a>
      {% else %}
      <a href="{% url 'personnel:employe_activate' employe.pk %}" class="btn btn-sm btn-success">
        <i class="fas fa-user-check me-1"></i> Activer
      </a>
      {% endif %}
      <a href="{% url 'personnel:employe_list' %}" class="btn btn-sm btn-secondary">
        <i class="fas fa-arrow-left me-1"></i> Retour
      </a>
    </div>
  </div>
  <div class="card-body">
    <div class="row mb-3">
      <div class="col-md-6">
        <p class="mb-1"><strong>N° employé:</strong> {{ employe.numero }}</p>
        <p class="mb-1"><strong>Matricule:</strong> {{ employe.matricule }}</p>
        <p class="mb-1"><strong>Nom & Prénoms:</strong> {{ employe.nom }} {{ employe.prenoms }}</p>
        <p class="mb-1"><strong>Fonction:</strong> {{ employe.fonction }}</p>
      </div>
      <div class="col-md-6">
        <p class="mb-1"><strong>Date d'embauche:</strong> {{ employe.date_embauche|date:'d/m/Y' }}</p>
        <p class="mb-1"><strong>Salaire de base:</strong> {{ employe.salaire_base|floatformat:0 }} GNF</p>
        <p class="mb-1"><strong>Prime de performance:</strong> {{ employe.prime_performance|floatformat:0 }} GNF</p>
        <p class="mb-1"><strong>Statut:</strong>
          {% if employe.actif %}
            <span class="badge bg-success">Actif</span>
          {% else %}
            <span class="badge bg-danger">Inactif</span>
          {% endif %}
        </p>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <h6>Contact</h6>
        <p class="mb-1"><strong>Téléphone:</strong> {{ employe.telephone|default:'—' }}</p>
        <p class="mb-1"><strong>Email:</strong> {{ employe.email|default:'—' }}</p>
        <p class="mb-1"><strong>Adresse:</strong><br>{{ employe.adresse|linebreaksbr|default:'—' }}</p>
      </div>
      <div class="col-md-6">
        <h6>Informations personnelles</h6>
        <p class="mb-1"><strong>Date de naissance:</strong> {{ employe.date_naissance|date:'d/m/Y'|default:'—' }}</p>
        {% if not employe.actif %}
          <p class="mb-1"><strong>Date de sortie:</strong> {{ employe.date_sortie|date:'d/m/Y'|default:'—' }}</p>
          <p class="mb-1"><strong>Motif de sortie:</strong> {{ employe.motif_sortie|default:'—' }}</p>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
